<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Safety Observation Report</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .observation-card {
            background-color: #ffffff;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            padding: 20px;
            width: 200vh;
            text-align: left;
            margin: 20px;
        }

        .observation-card label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
        }

        .observation-card button {
            background-color: #4caf50;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .observation-card button:hover {
            background-color: #45a049;
        }
    </style>
</head>

<body>
    <div class="observation-card">
        <div class="container mt-5">
            <table class="table table-bordered" style="border: black solid 2px;">
                <tr>
                    <td class="align-middle" width=140>
                        <p><img width=131 height=61 src="hero.jpeg" alt="Helio Engineering (P) Ltd"></p>
                    </td>
                    <td class="align-middle "><b>DAILY SAFETY OBSERVATION REPORT</b></td>
                    <td>
                        <p>Doc No:</p>
                        <p>Rev:</p>
                        <p>Date:</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>Name of Project:</p>
                    </td>
                    <td id="projectNameCell">
                        <!-- This is where the form data will be dynamically inserted -->
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>Activity</p>
                    </td>
                    <td>
                        <p>Type:</p>
                    </td>
                    <td>
                        <p>Location:</p>
                    </td>
                    <td id="locationCell">
                        <!-- This is where the form data will be dynamically inserted -->
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>Description of safety Observation</p>
                    </td>
                    <td id="observationCell">
                        <!-- This is where the form data will be dynamically inserted -->
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>Corrective Action/Preventive Action</p>
                    </td>
                    <td id="correctiveActionCell">
                        <!-- This is where the form data will be dynamically inserted -->
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>&nbsp;</p>
                    </td>
                    <td>
                        <p>&nbsp;</p>
                    </td>
                    <td>
                        <p>&nbsp;</p>
                    </td>
                    <td>
                        <p>&nbsp;</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>Name</p>
                    </td>
                    <td>
                        <p>Signature</p>
                    </td>
                    <td>
                        <p>Name</p>
                    </td>
                    <td>
                        <p>Signature</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>Safety Officer / Site Engineer</p>
                    </td>
                    <td>
                        <p>Project Manager</p>
                    </td>
                </tr>
            </table>
        </div>

        <!-- Button to open the modal form -->
        <button type="button" id="addObservationBtn" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
            Add Observation
        </button>
        

       <!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" data-bs-backdrop="static">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Add Observation</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Form for entering observation details -->
                <form id="observationForm">
                    <label for="projectName">Name of Project:</label>
                    <input type="text" id="projectName" name="projectName" required class="form-control mb-2">

                    <label for="activityType">Activity Type:</label>
                    <input type="text" id="activityType" name="activityType" required class="form-control mb-2">

                    <label for="location">Location:</label>
                    <input type="text" id="location" name="location" required class="form-control mb-2">

                    <label for="observation">Description of safety Observation:</label>
                    <textarea type="text" id="observation" name="observation" required class="form-control mb-2"></textarea>

                    <label for="correctiveAction">Corrective Action/Preventive Action:</label>
                    <textarea type="text" id="correctiveAction" name="correctiveAction" required class="form-control mb-2"></textarea>
                </form>
            </div>
            <div class="modal-footer">
                <!-- Button to submit the form -->
                <button type="button" class="btn btn-primary" onclick="submitForm()">Submit</button>
            </div>
        </div>
    </div>
</div>

    </div>

    <!-- Bootstrap JS and Popper.js (optional) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Function to get URL parameters
        function getParameterByName(name, url) {
            if (!url) url = window.location.href;
            name = name.replace(/[\[\]]/g, '\\$&');
            var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, ' '));
        }

        // Fill report with form data on page load
        document.addEventListener('DOMContentLoaded', function () {
            var projectName = getParameterByName('projectName');
            var activityType = getParameterByName('activityType');
            var observation = getParameterByName('observation');
            var correctiveAction = getParameterByName('correctiveAction');
            var location = getParameterByName('location');

            // Update corresponding elements in the report
            document.getElementById('projectNameCell').innerText = projectName;
            document.getElementById('activityTypeCell').innerText = activityType;
            document.getElementById('locationCell').innerText = location;
            document.getElementById('observationCell').innerText = observation;
            document.getElementById('correctiveActionCell').innerText = correctiveAction;
            // Update other report elements in a similar way
        });

        function submitForm() {
            // Get form values
            const projectName = document.getElementById('projectName').value;
            const activityType = document.getElementById('activityType').value;
            const location = document.getElementById('location').value;
            const observation = document.getElementById('observation').value;
            const correctiveAction = document.getElementById('correctiveAction').value;

            // Update corresponding cells in the report
            document.getElementById('projectNameCell').innerText = projectName;
            document.getElementById('activityTypeCell').innerText = activityType;
            document.getElementById('locationCell').innerText = location;
            document.getElementById('observationCell').innerText = observation;
            document.getElementById('correctiveActionCell').innerText = correctiveAction;

            // Reset form and close the modal
            document.getElementById('observationForm').reset();
            document.getElementById('exampleModal').click();
        }
    </script>
</body>

</html>
